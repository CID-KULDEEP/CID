<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jharkhand Explorer - Shop</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* CSS Variables for consistency */
        :root {
            --color-primary: #4CAF50; /* Green */
            --color-secondary: #FFC107; /* Amber */
            --color-accent: #2196F3; /* Blue */
            --color-text: #333;
            --color-text-secondary: #666;
            --color-background: #f8f8f8;
            --color-surface: #ffffff;
            --color-card-border: #e0e0e0;
            --color-shadow: rgba(0, 0, 0, 0.1);

            --font-size-sm: 0.875rem;
            --font-size-base: 1rem;
            --font-size-lg: 1.125rem;
            --font-size-xl: 1.25rem;
            --font-size-2xl: 1.5rem;
            --font-size-3xl: 1.875rem;
            --font-size-4xl: 2.25rem;

            --space-4: 0.25rem;
            --space-8: 0.5rem;
            --space-12: 0.75rem;
            --space-16: 1rem;
            --space-20: 1.25rem;
            --space-24: 1.5rem;
            --space-32: 2rem;
            --space-40: 2.5rem;
            --space-48: 3rem;

            --radius-sm: 0.25rem;
            --radius-md: 0.5rem;
            --radius-lg: 0.75rem;

            --shadow-sm: 0 1px 2px var(--color-shadow);
            --shadow-md: 0 4px 6px var(--color-shadow);
            --shadow-lg: 0 10px 15px var(--color-shadow);

            --duration-normal: 0.3s;
            --ease-standard: cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* Dark theme variables */
        html[data-theme="dark"] {
            --color-primary: #66BB6A; /* Lighter Green */
            --color-secondary: #FFD54F; /* Lighter Amber */
            --color-accent: #64B5F6; /* Lighter Blue */
            --color-text: #e0e0e0;
            --color-text-secondary: #a0a0a0;
            --color-background: #1a1a1a;
            --color-surface: #2a2a2a;
            --color-card-border: #444;
            --color-shadow: rgba(0, 0, 0, 0.3);
        }

        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--color-background);
            color: var(--color-text);
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 var(--space-20);
        }

        /* Navbar styles (assuming they are in style.css, but adding basic structure here for context) */
        .navbar {
            background-color: var(--color-surface);
            box-shadow: var(--shadow-sm);
            position: fixed;
            width: 100%;
            top: 0;
            left: 0;
            z-index: 1000;
            padding: var(--space-16) 0;
        }

        .nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 var(--space-20);
        }

        .nav-logo .logo-text {
            font-size: var(--font-size-xl);
            font-weight: bold;
            color: var(--color-primary);
        }

        .nav-links {
            display: flex;
            gap: var(--space-24);
        }

        .nav-link {
            color: var(--color-text-secondary);
            text-decoration: none;
            font-weight: 500;
            transition: color var(--duration-normal) var(--ease-standard);
        }

        .nav-link:hover, .nav-link.active {
            color: var(--color-primary);
        }

        .nav-actions {
            display: flex;
            align-items: center;
            gap: var(--space-16);
        }
        
        .cart-btn {
            position: relative;
            background: none;
            border: none;
            color: var(--color-text);
            font-size: var(--font-size-xl);
            cursor: pointer;
        }

        .cart-item-count {
            position: absolute;
            top: -5px;
            right: -10px;
            background-color: var(--color-primary);
            color: white;
            border-radius: 50%;
            padding: 2px 6px;
            font-size: 10px;
            font-weight: bold;
        }


        .search-form {
            display: flex;
            border: 1px solid var(--color-card-border);
            border-radius: var(--radius-md);
            overflow: hidden;
        }

        .search-input {
            border: none;
            padding: var(--space-8) var(--space-12);
            font-size: var(--font-size-base);
            background-color: var(--color-background);
            color: var(--color-text);
        }

        .search-btn {
            background-color: var(--color-primary);
            color: white;
            border: none;
            padding: var(--space-8) var(--space-12);
            cursor: pointer;
            transition: background-color var(--duration-normal) var(--ease-standard);
        }

        .search-btn:hover {
            background-color: #45a049;
        }

        .btn {
            padding: var(--space-8) var(--space-16);
            border-radius: var(--radius-md);
            cursor: pointer;
            font-weight: 500;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: var(--space-4);
            transition: all var(--duration-normal) var(--ease-standard);
        }

        .btn--primary {
            background-color: var(--color-primary);
            color: white;
            border: 1px solid var(--color-primary);
        }

        .btn--primary:hover {
            background-color: #45a049;
            border-color: #45a049;
        }
        
        .btn--full-width {
            width: 100%;
        }

        .btn--secondary {
            background-color: transparent;
            color: var(--color-primary);
            border: 1px solid var(--color-primary);
        }

        .btn--secondary:hover {
            background-color: var(--color-primary);
            color: white;
        }

        .btn--sm {
            padding: var(--space-4) var(--space-8);
            font-size: var(--font-size-sm);
        }

        .btn--login {
            background-color: var(--color-accent);
            color: white;
            border: none;
        }

        .btn--login:hover {
            background-color: #1e88e5;
        }

        .btn--sos {
            background-color: #f44336; /* Red */
            color: white;
            border: none;
        }

        .btn--sos:hover {
            background-color: #e53935;
        }

        .theme-toggle {
            background: none;
            border: none;
            color: var(--color-text);
            font-size: var(--font-size-xl);
            cursor: pointer;
        }

        .mobile-menu-toggle {
            display: none; /* Hidden by default on desktop */
            flex-direction: column;
            justify-content: space-around;
            width: 30px;
            height: 20px;
            background: transparent;
            border: none;
            cursor: pointer;
            padding: 0;
            z-index: 1001;
        }

        .mobile-menu-toggle span {
            display: block;
            width: 100%;
            height: 2px;
            background: var(--color-text);
            border-radius: 10px;
            transition: all 0.3s linear;
            position: relative;
            transform-origin: 1px;
        }

        /* Specific styles for the shop page */
        .shop-hero {
            background: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url('https://images.unsplash.com/photo-1517048676732-d65bc937f952?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80') no-repeat center center/cover;
            height: 40vh;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            text-align: center;
            margin-top: 70px; /* Adjust for fixed navbar */
            padding: var(--space-32) 0;
        }

        .shop-hero h1 {
            font-size: var(--font-size-4xl);
            margin-bottom: var(--space-16);
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }

        .shop-hero p {
            font-size: var(--font-size-lg);
            max-width: 600px;
            margin: 0 auto;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }

        .shop-controls {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            align-items: center;
            gap: var(--space-16);
            padding: var(--space-24) 0;
            border-bottom: 1px solid var(--color-card-border);
            margin-bottom: var(--space-24);
        }

        .shop-controls .filter-group,
        .shop-controls .sort-group {
            display: flex;
            align-items: center;
            gap: var(--space-8);
        }

        .shop-controls label {
            font-weight: 500;
            color: var(--color-text);
        }

        .shop-controls select,
        .shop-controls input[type="number"] {
            padding: var(--space-8) var(--space-12);
            border: 1px solid var(--color-card-border);
            border-radius: var(--radius-md);
            background-color: var(--color-surface);
            color: var(--color-text);
            font-size: var(--font-size-base);
            appearance: none; /* Remove default arrow for select */
            background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23000000%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.5-12.8z%22%2F%3E%3C%2Fsvg%3E');
            background-repeat: no-repeat;
            background-position: right 0.7em top 50%, 0 0;
            background-size: 0.65em auto, 100%;
            padding-right: 2.5em;
        }

        .shop-controls input[type="number"] {
            width: 80px;
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: var(--space-24);
            padding: var(--space-32) 0;
        }

        .product-card {
            background: var(--color-surface);
            border-radius: var(--radius-lg);
            overflow: hidden;
            box-shadow: var(--shadow-md);
            transition: all var(--duration-normal) var(--ease-standard);
            border: 1px solid var(--color-card-border);
            display: flex;
            flex-direction: column;
            position: relative; /* For quick view button positioning */
        }

        .product-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-lg);
        }

        .product-image {
            height: 200px;
            overflow: hidden;
            position: relative;
        }

        .product-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform var(--duration-normal) var(--ease-standard);
        }

        .product-card:hover .product-image img {
            transform: scale(1.05);
        }

        .product-content {
            padding: var(--space-20);
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }

        .product-title {
            font-size: var(--font-size-xl);
            font-weight: 600;
            margin-bottom: var(--space-8);
            color: var(--color-text);
        }

        .product-category {
            font-size: var(--font-size-sm);
            color: var(--color-text-secondary);
            margin-bottom: var(--space-8);
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .product-description {
            color: var(--color-text-secondary);
            font-size: var(--font-size-sm);
            margin-bottom: var(--space-12);
            flex-grow: 1;
        }

        .product-price {
            font-size: var(--font-size-lg);
            font-weight: bold;
            color: var(--color-primary);
            margin-bottom: var(--space-16);
        }

        .product-actions {
            display: flex;
            gap: var(--space-8);
            margin-top: auto; /* Pushes buttons to the bottom */
        }

        /* Quick View Button on image hover */
        .quick-view-btn {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: rgba(0, 0, 0, 0.7);
            color: white;
            border: none;
            padding: var(--space-8) var(--space-16);
            border-radius: var(--radius-md);
            cursor: pointer;
            opacity: 0;
            transition: opacity var(--duration-normal) var(--ease-standard);
            font-size: var(--font-size-sm);
            z-index: 10;
        }

        .product-image:hover .quick-view-btn {
            opacity: 1;
        }

        /* No products found message */
        .no-products-message {
            text-align: center;
            padding: var(--space-40);
            font-size: var(--font-size-xl);
            color: var(--color-text-secondary);
            display: none; /* Hidden by default */
        }

        /* Notification for Add to Cart */
        .cart-notification {
            position: fixed;
            bottom: var(--space-24);
            right: var(--space-24);
            background-color: var(--color-primary);
            color: white;
            padding: var(--space-12) var(--space-20);
            border-radius: var(--radius-md);
            box-shadow: var(--shadow-lg);
            opacity: 0;
            transform: translateY(20px);
            transition: all var(--duration-normal) var(--ease-standard);
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: var(--space-8);
        }

        .cart-notification.show {
            opacity: 1;
            transform: translateY(0);
        }

        /* Modal for Quick View */
        .modal {
            display: none; /* Hidden by default */
            position: fixed;
            z-index: 1002; /* Higher than navbar */
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.7);
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background-color: var(--color-surface);
            margin: auto;
            padding: var(--space-32);
            border-radius: var(--radius-lg);
            width: 90%;
            max-width: 800px;
            box-shadow: var(--shadow-lg);
            position: relative;
            display: flex;
            flex-wrap: wrap;
            gap: var(--space-24);
        }

        .modal-close-btn {
            color: var(--color-text-secondary);
            position: absolute;
            top: var(--space-16);
            right: var(--space-16);
            font-size: var(--font-size-2xl);
            font-weight: bold;
            cursor: pointer;
        }

        .modal-close-btn:hover,
        .modal-close-btn:focus {
            color: var(--color-text);
            text-decoration: none;
            cursor: pointer;
        }

        .modal-image-container {
            flex: 1 1 300px;
            max-height: 400px;
            overflow: hidden;
            border-radius: var(--radius-md);
        }

        .modal-image-container img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .modal-details {
            flex: 1 1 400px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .modal-details h2 {
            font-size: var(--font-size-3xl);
            margin-bottom: var(--space-12);
            color: var(--color-text);
        }

        .modal-details .product-category {
            font-size: var(--font-size-base);
        }

        .modal-details p {
            font-size: var(--font-size-lg);
            color: var(--color-text-secondary);
            margin-bottom: var(--space-20);
        }

        .modal-details .product-price {
            font-size: var(--font-size-2xl);
            margin-bottom: var(--space-24);
        }

        .modal-actions {
            display: flex;
            gap: var(--space-16);
        }
        
        /* Cart Sidebar */
        .cart-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1003;
            opacity: 0;
            visibility: hidden;
            transition: opacity var(--duration-normal) var(--ease-standard), visibility var(--duration-normal) var(--ease-standard);
        }

        .cart-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .cart-sidebar {
            position: fixed;
            top: 0;
            right: -100%; /* Start off-screen */
            width: 100%;
            max-width: 400px;
            height: 100%;
            background-color: var(--color-surface);
            z-index: 1004;
            display: flex;
            flex-direction: column;
            box-shadow: var(--shadow-lg);
            transition: right var(--duration-normal) var(--ease-standard);
        }

        .cart-sidebar.active {
            right: 0;
        }

        .cart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: var(--space-16) var(--space-20);
            border-bottom: 1px solid var(--color-card-border);
        }
        .cart-header h3 {
            margin: 0;
            font-size: var(--font-size-xl);
        }

        .cart-close-btn {
            background: none;
            border: none;
            font-size: var(--font-size-2xl);
            cursor: pointer;
            color: var(--color-text-secondary);
        }

        .cart-items {
            flex-grow: 1;
            overflow-y: auto;
            padding: var(--space-16);
        }
        
        .cart-empty-message {
            text-align: center;
            margin-top: var(--space-40);
            color: var(--color-text-secondary);
        }
        
        .cart-item {
            display: flex;
            gap: var(--space-12);
            align-items: center;
            padding: var(--space-12) 0;
            border-bottom: 1px solid var(--color-card-border);
        }
        
        .cart-item-img {
            width: 60px;
            height: 60px;
            object-fit: cover;
            border-radius: var(--radius-sm);
        }

        .cart-item-details {
            flex-grow: 1;
        }
        
        .cart-item-title {
            font-weight: 500;
            margin: 0 0 var(--space-4);
        }

        .cart-item-price {
            color: var(--color-text-secondary);
            font-size: var(--font-size-sm);
        }
        
        .cart-item-actions {
            display: flex;
            align-items: center;
            gap: var(--space-8);
        }

        .cart-item-quantity {
            font-weight: 500;
        }
        
        .cart-item-remove-btn {
            background: none;
            border: none;
            color: #f44336;
            cursor: pointer;
            font-size: var(--font-size-lg);
        }

        .cart-footer {
            padding: var(--space-16) var(--space-20);
            border-top: 1px solid var(--color-card-border);
            background-color: var(--color-surface);
        }

        .cart-total {
            display: flex;
            justify-content: space-between;
            font-size: var(--font-size-lg);
            font-weight: bold;
            margin-bottom: var(--space-16);
        }

        /* Footer styles (assuming they are in style.css, but adding basic structure here for context) */
        .footer {
            background-color: var(--color-surface);
            color: var(--color-text-secondary);
            padding: var(--space-48) 0 var(--space-24);
            border-top: 1px solid var(--color-card-border);
        }

        .footer-content {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            gap: var(--space-32);
            margin-bottom: var(--space-32);
        }

        .footer-section {
            flex: 1 1 200px;
            min-width: 200px;
        }

        .footer-logo span {
            font-size: var(--font-size-xl);
            font-weight: bold;
            color: var(--color-primary);
            margin-bottom: var(--space-12);
            display: block;
        }

        .footer-section h4 {
            font-size: var(--font-size-lg);
            color: var(--color-text);
            margin-bottom: var(--space-16);
        }

        .footer-section ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .footer-section ul li {
            margin-bottom: var(--space-8);
        }

        .footer-section ul li a {
            color: var(--color-text-secondary);
            text-decoration: none;
            transition: color var(--duration-normal) var(--ease-standard);
        }

        .footer-section ul li a:hover {
            color: var(--color-primary);
        }

        .social-links a {
            color: var(--color-text-secondary);
            font-size: var(--font-size-xl);
            margin-right: var(--space-12);
            transition: color var(--duration-normal) var(--ease-standard);
        }

        .social-links a:hover {
            color: var(--color-primary);
        }

        .contact-item {
            display: flex;
            align-items: center;
            gap: var(--space-8);
            margin-bottom: var(--space-8);
        }

        .contact-item i {
            color: var(--color-primary);
        }

        .footer-bottom {
            text-align: center;
            padding-top: var(--space-24);
            border-top: 1px solid var(--color-card-border);
        }

        /* Responsive Adjustments */
        @media (max-width: 1024px) {
            .nav-links {
                gap: var(--space-16);
            }
            .shop-hero h1 {
                font-size: var(--font-size-3xl);
            }
            .shop-hero p {
                font-size: var(--font-size-base);
            }
            .products-grid {
                grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            }
            .modal-content {
                flex-direction: column;
                max-width: 600px;
            }
            .modal-image-container {
                max-height: 300px;
            }
        }

        @media (max-width: 768px) {
            .nav-links {
                display: none;
                flex-direction: column;
                position: absolute;
                top: 100%;
                left: 0;
                width: 100%;
                background-color: var(--color-surface);
                box-shadow: var(--shadow-md);
                padding: var(--space-16) 0;
                border-top: 1px solid var(--color-card-border);
            }

            .nav-links.active {
                display: flex;
            }

            .nav-link {
                padding: var(--space-8) var(--space-20);
                text-align: center;
            }

            .nav-actions {
                gap: var(--space-8);
            }

            .search-form {
                display: none; /* Hide search form on smaller screens */
            }

            .mobile-menu-toggle {
                display: flex;
            }

            .shop-hero {
                height: 30vh;
                margin-top: 60px; /* Adjust for smaller navbar */
            }

            .shop-hero h1 {
                font-size: var(--font-size-2xl);
            }

            .shop-hero p {
                font-size: var(--font-size-sm);
            }

            .shop-controls {
                flex-direction: column;
                align-items: flex-start;
            }

            .shop-controls .filter-group,
            .shop-controls .sort-group {
                width: 100%;
                justify-content: space-between;
            }

            .products-grid {
                grid-template-columns: 1fr; /* Single column on very small screens */
            }

            .footer-content {
                flex-direction: column;
                text-align: center;
            }

            .footer-section {
                min-width: unset;
                width: 100%;
            }

            .social-links {
                margin-top: var(--space-16);
            }

            .contact-item {
                justify-content: center;
            }
        }

        @media (max-width: 480px) {
            .nav-container {
                padding: 0 var(--space-12);
            }
            .nav-logo .logo-text {
                font-size: var(--font-size-lg);
            }
            .btn--login, .btn--sos {
                padding: var(--space-4) var(--space-8);
                font-size: var(--font-size-sm);
            }
            .shop-hero {
                margin-top: 50px;
            }
            .shop-hero h1 {
                font-size: var(--font-size-xl);
            }
            .shop-controls select,
            .shop-controls input[type="number"] {
                width: 100%;
            }
            .modal-content {
                padding: var(--space-20);
            }
            .modal-details h2 {
                font-size: var(--font-size-2xl);
            }
            .modal-details p {
                font-size: var(--font-size-base);
            }
            .modal-details .product-price {
                font-size: var(--font-size-xl);
            }
            .modal-actions {
                flex-direction: column;
            }
            .modal-actions .btn {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar" id="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <span class="logo-text">Jharkhand Explorer </span>
            </div>
            
            <div class="nav-links" id="navLinks">
                <a href="index.html#home" class="nav-link">Home</a>
                <a href="heritage.html" class="nav-link">Rich Cultural Heritage</a>
                <a href="guides.html" class="nav-link">Guides</a>
                <a href="shop.html" class="nav-link active">Shop</a> 
                <a href="index.html#contact" class="nav-link">Contact</a>
            </div>
            
            <div class="nav-actions">
                <form class="search-form" id="searchForm" role="search">
                    <input type="search" placeholder="Search products..." class="search-input" id="searchInput" aria-label="Search products">
                    <button type="submit" class="search-btn" aria-label="Submit search">
                        <i class="fas fa-search"></i>
                    </button>
                </form>

                <button class="theme-toggle" id="themeToggle" aria-label="Toggle dark/light theme">
                    <i class="fas fa-moon"></i>
                </button>
                
                <button class="cart-btn" id="cartBtn" aria-label="Open shopping cart">
                    <i class="fas fa-shopping-cart"></i>
                    <span class="cart-item-count" id="cartItemCount">0</span>
                </button>

                <button class="btn btn--login" aria-label="Login to your account">Login</button>
                
                <button class="btn btn--sos" id="sosButton" aria-label="Emergency SOS button">
                    <i class="fas fa-exclamation-triangle"></i> SOS
                </button>

                <button class="mobile-menu-toggle" id="mobileMenuToggle" aria-label="Toggle mobile menu">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
        </div>
    </nav>

    <section class="shop-hero">
        <div class="container">
            <h1>Explore Our Exclusive Collection</h1>
            <p>Discover unique handicrafts, local produce, and travel essentials from Jharkhand.</p>
        </div>
    </section>

    <section class="shop-products">
        <div class="container">
            <div class="shop-controls">
                <div class="filter-group">
                    <label for="categoryFilter">Category:</label>
                    <select id="categoryFilter" aria-label="Filter products by category">
                        <option value="all">All Categories</option>
                        <option value="art">Art & Crafts</option>
                        <option value="food">Food & Beverages</option>
                        <option value="textile">Textiles</option>
                        <option value="souvenirs">Souvenirs</option>
                    </select>
                    <label for="minPrice">Price Range:</label>
                    <input type="number" id="minPrice" placeholder="Min" aria-label="Minimum price">
                    <span>-</span>
                    <input type="number" id="maxPrice" placeholder="Max" aria-label="Maximum price">
                    <button class="btn btn--secondary btn--sm" id="applyFiltersBtn">Apply</button>
                </div>
                <div class="sort-group">
                    <label for="sortOrder">Sort By:</label>
                    <select id="sortOrder" aria-label="Sort products by">
                        <option value="default">Default</option>
                        <option value="price-asc">Price: Low to High</option>
                        <option value="price-desc">Price: High to Low</option>
                        <option value="name-asc">Name: A-Z</option>
                        <option value="name-desc">Name: Z-A</option>
                    </select>
                </div>
            </div>

            <div class="products-grid" id="productsGrid">
                <!-- Product cards will be loaded here by JavaScript -->
            </div>
            <div class="no-products-message" id="noProductsMessage" aria-live="polite">
                No products found matching your criteria.
            </div>
        </div>
    </section>

    <!-- Cart Notification -->
    <div class="cart-notification" id="cartNotification" role="status" aria-live="polite">
        <!-- Message will be set by JS -->
    </div>

    <!-- Quick View Modal -->
    <div id="quickViewModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
        <div class="modal-content">
            <span class="modal-close-btn" id="modalCloseBtn" aria-label="Close product details">&times;</span>
            <div class="modal-image-container">
                <img src="" alt="Product Image" id="modalProductImage">
            </div>
            <div class="modal-details">
                <h2 id="modalTitle"></h2>
                <p class="product-category" id="modalProductCategory"></p>
                <p id="modalProductDescription"></p>
                <div class="product-price" id="modalProductPrice"></div>
                <div class="modal-actions">
                    <button class="btn btn--primary buy-now-btn" id="modalBuyNowBtn">Buy Now</button>
                    <button class="btn btn--secondary add-to-cart-btn" id="modalAddToCartBtn">Add to Cart</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Cart Sidebar -->
    <div class="cart-overlay" id="cartOverlay"></div>
    <div class="cart-sidebar" id="cartSidebar">
        <div class="cart-header">
            <h3>Your Cart</h3>
            <button class="cart-close-btn" id="cartCloseBtn" aria-label="Close cart">&times;</button>
        </div>
        <div class="cart-items" id="cartItems">
            <p class="cart-empty-message">Your cart is empty.</p>
        </div>
        <div class="cart-footer">
            <div class="cart-total">
                <span>Total:</span>
                <span id="cartTotal">₹0</span>
            </div>
            <button class="btn btn--primary btn--full-width" id="checkoutBtn">Checkout</button>
        </div>
    </div>


    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <div class="footer-logo">
                        <span>Jharkhand Explorer</span>
                    </div>
                    <p>Discover the incredible beauty of Jharkhand with our AI-powered travel platform.</p>
                    <div class="social-links">
                        <a href="#" target="_blank" aria-label="Facebook"><i class="fab fa-facebook"></i></a>
                        <a href="#" target="_blank" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                        <a href="#" target="_blank" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                        <a href="#" target="_blank" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>
                
                <div class="footer-section">
                    <h4>Quick Links</h4>
                    <ul>
                        <li><a href="index.html#home">Home</a></li>
                        <li><a href="index.html#destinations">Destinations</a></li>
                        <li><a href="index.html#culture">Culture</a></li>
                        <li><a href="index.html#marketplace">Marketplace</a></li>
                        <li><a href="shop.html">Shop</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4>Services</h4>
                    <ul>
                        <li><a href="index.html#ai-planner">AI Trip Planner</a></li>
                        <li><a href="index.html#accommodation">Accommodation</a></li>
                        <li><a href="index.html#marketplace">Local Guides</a></li>
                        <li><a href="index.html#marketplace">Transportation</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4>Contact Info</h4>
                    <div class="contact-info">
                        <div class="contact-item">
                            <i class="fas fa-phone"></i>
                            <span>+91 12345 67890</span>
                        </div>
                        <div class="contact-item">
                            <i class="fas fa-envelope"></i>
                            <span>info@jharkhandexplorer.com</span>
                        </div>
                        <div class="contact-item">
                            <i class="fas fa-map-marker-alt"></i>
                            <span>Ranchi, Jharkhand, India</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="footer-bottom">
                <div class="footer-text">
                    <p>&copy; 2025 Jharkhand Explorer. All rights reserved.</p>
                </div>
            </div>
        </div>
    </footer>
    
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vanilla-tilt@1.7.2/dist/vanilla-tilt.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- Product Data ---
            const allProducts = [
                {
                    id: 1,
                    name: "Tribal Art Painting",
                    description: "Hand-painted traditional tribal art on canvas, depicting local folklore and nature. Each piece is unique and tells a story of Jharkhand's rich cultural heritage.",
                    price: 1500,
                    image: "https://images.unsplash.com/photo-1599420186946-7b6fb4e297f0?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",
                    category: "art"
                },
                {
                    id: 2,
                    name: "Organic Honey (500g)",
                    description: "Pure, raw honey collected from the pristine forests of Jharkhand. Known for its medicinal properties and rich, natural flavor. Sustainably harvested.",
                    price: 450,
                    image: "mood-2.jpg",
                    category: "food"
                },
                {
                    id: 3,
                    name: "Dokra Metal Craft",
                    description: "An intricate Dokra metal figurine, handcrafted using the ancient lost-wax casting technique. A traditional craft of Jharkhand, perfect for home decor.",
                    price: 2200,
                    image: "the-art-of-dhokra-handmadeinindia-housenama.jpg", 
                    category: "art"
                },
                {
                    id: 4,
                    name: "Tussar Silk Saree",
                    description: "Elegant handloom Tussar silk saree, a specialty of Jharkhand. Known for its rich texture and natural golden sheen. Ethically sourced and woven.",
                    price: 4800,
                    image: "one-in-a-million-chattisgarh-purple-pure-tussar-silk-sequin-saree-silk-mark-certified-847536_467x700.jpg",
                    category: "textile"
                },
                {
                    id: 5,
                    name: "Bamboo Basket",
                    description: "Handwoven bamboo basket, durable and eco-friendly. Ideal for storage, decor, or as a picnic basket. Made by local artisans.",
                    price: 350,
                    image: "basket.jpg", 
                    category: "souvenirs"
                },
                {
                    id: 6,
                    name: "Local Spice Blend",
                    description: "A unique blend of aromatic spices, traditionally used in Jharkhandi cuisine. Adds authentic flavor to your dishes.",
                    price: 200,
                    image: "e9603031155f485b803b53be85aa9074.jpg", 
                    category: "food"
                }
            ];

            let displayedProducts = [...allProducts];
            let cart = [];

            // --- DOM Elements ---
            const productsGrid = document.getElementById('productsGrid');
            const noProductsMessage = document.getElementById('noProductsMessage');
            const cartNotification = document.getElementById('cartNotification');

            // Filter/Sort Elements
            const categoryFilter = document.getElementById('categoryFilter');
            const minPriceInput = document.getElementById('minPrice');
            const maxPriceInput = document.getElementById('maxPrice');
            const applyFiltersBtn = document.getElementById('applyFiltersBtn');
            const sortOrderSelect = document.getElementById('sortOrder');

            // Modal Elements
            const quickViewModal = document.getElementById('quickViewModal');
            const modalCloseBtn = document.getElementById('modalCloseBtn');
            const modalProductImage = document.getElementById('modalProductImage');
            const modalTitle = document.getElementById('modalTitle');
            const modalProductCategory = document.getElementById('modalProductCategory');
            const modalProductDescription = document.getElementById('modalProductDescription');
            const modalProductPrice = document.getElementById('modalProductPrice');
            const modalBuyNowBtn = document.getElementById('modalBuyNowBtn');
            const modalAddToCartBtn = document.getElementById('modalAddToCartBtn');
            
            // Cart Elements
            const cartSidebar = document.getElementById('cartSidebar');
            const cartOverlay = document.getElementById('cartOverlay');
            const cartBtn = document.getElementById('cartBtn');
            const cartCloseBtn = document.getElementById('cartCloseBtn');
            const cartItems = document.getElementById('cartItems');
            const cartTotal = document.getElementById('cartTotal');
            const cartItemCount = document.getElementById('cartItemCount');
            const checkoutBtn = document.getElementById('checkoutBtn');


            // --- Functions ---
            
            function formatPrice(price) {
                return `₹${price.toLocaleString('en-IN')}`;
            }

            function createProductCard(product) {
                const card = document.createElement('div');
                card.className = 'product-card';
                card.setAttribute('data-product-id', product.id);
                card.innerHTML = `
                    <div class="product-image">
                        <img src="${product.image}" alt="${product.name}" loading="lazy">
                        <button class="quick-view-btn" data-product-id="${product.id}" aria-label="Quick view ${product.name}">Quick View</button>
                    </div>
                    <div class="product-content">
                        <h3 class="product-title">${product.name}</h3>
                        <p class="product-category">${product.category}</p>
                        <p class="product-description">${product.description.substring(0, 100)}...</p>
                        <div class="product-price">${formatPrice(product.price)}</div>
                        <div class="product-actions">
                            <button class="btn btn--primary btn--sm buy-now-btn" data-product-id="${product.id}">Buy Now</button>
                            <button class="btn btn--secondary btn--sm add-to-cart-btn" data-product-id="${product.id}">Add to Cart</button>
                        </div>
                    </div>
                `;
                return card;
            }

            function renderProducts(productsToRender) {
                productsGrid.innerHTML = '';
                if (productsToRender.length === 0) {
                    noProductsMessage.style.display = 'block';
                } else {
                    noProductsMessage.style.display = 'none';
                    productsToRender.forEach(product => {
                        productsGrid.appendChild(createProductCard(product));
                    });
                    VanillaTilt.init(document.querySelectorAll(".product-card"), {
                        max: 15, speed: 400, glare: true, "max-glare": 0.5
                    });
                }
            }
            
            function applyFiltersAndSort() {
                let filtered = [...allProducts];
                const selectedCategory = categoryFilter.value;
                if (selectedCategory !== 'all') {
                    filtered = filtered.filter(product => product.category === selectedCategory);
                }
                const minPrice = parseFloat(minPriceInput.value);
                const maxPrice = parseFloat(maxPriceInput.value);
                if (!isNaN(minPrice)) filtered = filtered.filter(p => p.price >= minPrice);
                if (!isNaN(maxPrice)) filtered = filtered.filter(p => p.price <= maxPrice);
                const searchQuery = searchInput.value.toLowerCase();
                if (searchQuery) {
                    filtered = filtered.filter(p =>
                        p.name.toLowerCase().includes(searchQuery) ||
                        p.description.toLowerCase().includes(searchQuery) ||
                        p.category.toLowerCase().includes(searchQuery)
                    );
                }
                const sortOption = sortOrderSelect.value;
                if (sortOption === 'price-asc') filtered.sort((a, b) => a.price - b.price);
                else if (sortOption === 'price-desc') filtered.sort((a, b) => b.price - a.price);
                else if (sortOption === 'name-asc') filtered.sort((a, b) => a.name.localeCompare(b.name));
                else if (sortOption === 'name-desc') filtered.sort((a, b) => b.name.localeCompare(a.name));
                displayedProducts = filtered;
                renderProducts(displayedProducts);
            }

            function showCartNotification(message) {
                cartNotification.innerHTML = `<i class="fas fa-check-circle"></i> ${message}`;
                cartNotification.classList.add('show');
                setTimeout(() => cartNotification.classList.remove('show'), 2000);
            }

            function openQuickViewModal(product) {
                modalProductImage.src = product.image;
                modalProductImage.alt = product.name;
                modalTitle.textContent = product.name;
                modalProductCategory.textContent = product.category;
                modalProductDescription.textContent = product.description;
                modalProductPrice.textContent = formatPrice(product.price);
                modalBuyNowBtn.setAttribute('data-product-id', product.id);
                modalAddToCartBtn.setAttribute('data-product-id', product.id);
                quickViewModal.style.display = 'flex';
                document.body.style.overflow = 'hidden';
            }

            function closeQuickViewModal() {
                quickViewModal.style.display = 'none';
                document.body.style.overflow = '';
            }

            function proceedToPayment(item) {
                sessionStorage.setItem('bookingItem', JSON.stringify(item));
                window.location.href = 'payment.html';
            }
            
            // --- Cart Functions ---
            function openCart() {
                cartSidebar.classList.add('active');
                cartOverlay.classList.add('active');
            }
            
            function closeCart() {
                cartSidebar.classList.remove('active');
                cartOverlay.classList.remove('active');
            }
            
            function saveCart() {
                localStorage.setItem('shoppingCart', JSON.stringify(cart));
            }

            function loadCart() {
                const storedCart = localStorage.getItem('shoppingCart');
                cart = storedCart ? JSON.parse(storedCart) : [];
                updateCartUI();
            }

            function addToCart(productId) {
                const product = allProducts.find(p => p.id === productId);
                if (!product) return;

                const existingItem = cart.find(item => item.id === productId);
                if (existingItem) {
                    existingItem.quantity++;
                } else {
                    cart.push({ ...product, quantity: 1 });
                }
                showCartNotification(`${product.name} added to cart!`);
                updateCartUI();
                saveCart();
            }
            
            function removeFromCart(productId) {
                cart = cart.filter(item => item.id !== productId);
                updateCartUI();
                saveCart();
            }

            function updateCartUI() {
                cartItemCount.textContent = cart.reduce((total, item) => total + item.quantity, 0);

                if (cart.length === 0) {
                    cartItems.innerHTML = '<p class="cart-empty-message">Your cart is empty.</p>';
                    cartTotal.textContent = formatPrice(0);
                    return;
                }
                
                cartItems.innerHTML = '';
                let currentTotal = 0;
                cart.forEach(item => {
                    currentTotal += item.price * item.quantity;
                    const cartItemEl = document.createElement('div');
                    cartItemEl.className = 'cart-item';
                    cartItemEl.innerHTML = `
                        <img src="${item.image}" alt="${item.name}" class="cart-item-img">
                        <div class="cart-item-details">
                            <p class="cart-item-title">${item.name}</p>
                            <p class="cart-item-price">${item.quantity} x ${formatPrice(item.price)}</p>
                        </div>
                        <div class="cart-item-actions">
                             <button class="cart-item-remove-btn" data-product-id="${item.id}" aria-label="Remove ${item.name}">&times;</button>
                        </div>
                    `;
                    cartItems.appendChild(cartItemEl);
                });
                cartTotal.textContent = formatPrice(currentTotal);
            }
            

            // --- Event Listeners ---

            renderProducts(allProducts);
            loadCart();

            applyFiltersBtn.addEventListener('click', applyFiltersAndSort);
            categoryFilter.addEventListener('change', applyFiltersAndSort);
            sortOrderSelect.addEventListener('change', applyFiltersAndSort);

            document.body.addEventListener('click', (e) => {
                const target = e.target;
                const productId = parseInt(target.dataset.productId);

                if (target.classList.contains('buy-now-btn') && productId) {
                    const product = allProducts.find(p => p.id === productId);
                    if (product) proceedToPayment({ name: product.name, price: product.price });
                } else if (target.classList.contains('add-to-cart-btn') && productId) {
                    addToCart(productId);
                } else if (target.classList.contains('quick-view-btn') && productId) {
                    const product = allProducts.find(p => p.id === productId);
                    if (product) openQuickViewModal(product);
                }
            });

            modalCloseBtn.addEventListener('click', closeQuickViewModal);
            quickViewModal.addEventListener('click', (e) => e.target === quickViewModal && closeQuickViewModal());
            document.addEventListener('keydown', (e) => e.key === 'Escape' && closeQuickViewModal());

            // Cart Event Listeners
            cartBtn.addEventListener('click', openCart);
            cartCloseBtn.addEventListener('click', closeCart);
            cartOverlay.addEventListener('click', closeCart);
            
            cartItems.addEventListener('click', e => {
                if (e.target.classList.contains('cart-item-remove-btn')) {
                    const productId = parseInt(e.target.dataset.productId);
                    removeFromCart(productId);
                }
            });
            
            checkoutBtn.addEventListener('click', () => {
                if (cart.length === 0) {
                    alert("Your cart is empty!");
                    return;
                }
                const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
                const bookingItem = {
                    name: `${cart.length} item(s) from your cart`,
                    price: total
                };
                proceedToPayment(bookingItem);
            });

            // --- General Site Functionality ---
            const themeToggle = document.getElementById('themeToggle');
            if (themeToggle) {
                themeToggle.addEventListener('click', (e) => {
                    e.preventDefault();
                    const currentTheme = document.documentElement.getAttribute('data-theme') || 'light';
                    const newTheme = currentTheme === 'light' ? 'dark' : 'light';
                    document.documentElement.setAttribute('data-theme', newTheme);
                    localStorage.setItem('theme', newTheme);
                    const icon = themeToggle.querySelector('i');
                    if (icon) icon.className = newTheme === 'dark' ? 'fas fa-sun' : 'fas fa-moon';
                });
                const currentTheme = localStorage.getItem('theme') || (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
                document.documentElement.setAttribute('data-theme', currentTheme);
                const icon = themeToggle.querySelector('i');
                if (icon) icon.className = currentTheme === 'dark' ? 'fas fa-sun' : 'fas fa-moon';
            }

            const mobileMenuToggle = document.getElementById('mobileMenuToggle');
            const navLinks = document.getElementById('navLinks');
            if (mobileMenuToggle && navLinks) {
                mobileMenuToggle.addEventListener('click', (e) => {
                    e.preventDefault();
                    navLinks.classList.toggle('active');
                    mobileMenuToggle.classList.toggle('active');
                });
                navLinks.querySelectorAll('.nav-link').forEach(link => {
                    link.addEventListener('click', () => {
                        navLinks.classList.remove('active');
                        mobileMenuToggle.classList.remove('active');
                    });
                });
            }

            const sosButton = document.getElementById('sosButton');
            if (sosButton) {
                sosButton.addEventListener('click', () => {
                    alert('Emergency! Please contact local authorities or your travel guide. Emergency contact: +91 98765 43210');
                });
            }

            const searchForm = document.getElementById('searchForm');
            const searchInput = document.getElementById('searchInput');
            if (searchForm && searchInput) {
                searchForm.addEventListener('submit', (e) => {
                    e.preventDefault();
                    applyFiltersAndSort();
                });
            }
        });
    </script>
</body>
</html>
