<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Find Your Guide - Jharkhand Explorer</title>
    <link rel="stylesheet" href="/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* CSS Variables for consistency */
        :root {
            --color-primary: #4CAF50; /* Green */
            --color-secondary: #FFC107; /* Amber */
            --color-accent: #2196F3; /* Blue */
            --color-text: #333;
            --color-text-secondary: #666;
            --color-background: #f8f8f8;
            --color-surface: #ffffff;
            --color-card-border: #e0e0e0;
            --color-shadow: rgba(0, 0, 0, 0.1);

            --font-size-sm: 0.875rem;
            --font-size-base: 1rem;
            --font-size-lg: 1.125rem;
            --font-size-xl: 1.25rem;
            --font-size-2xl: 1.5rem;
            --font-size-3xl: 1.875rem;
            --font-size-4xl: 2.25rem;

            --space-4: 0.25rem;
            --space-8: 0.5rem;
            --space-12: 0.75rem;
            --space-16: 1rem;
            --space-20: 1.25rem;
            --space-24: 1.5rem;
            --space-32: 2rem;
            --space-40: 2.5rem;
            --space-48: 3rem;

            --radius-sm: 0.25rem;
            --radius-md: 0.5rem;
            --radius-lg: 0.75rem;

            --shadow-sm: 0 1px 2px var(--color-shadow);
            --shadow-md: 0 4px 6px var(--color-shadow);
            --shadow-lg: 0 10px 15px var(--color-shadow);

            --duration-normal: 0.3s;
            --ease-standard: cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* Dark theme variables */
        html[data-theme="dark"] {
            --color-primary: #66BB6A; /* Lighter Green */
            --color-secondary: #FFD54F; /* Lighter Amber */
            --color-accent: #64B5F6; /* Lighter Blue */
            --color-text: #e0e0e0;
            --color-text-secondary: #a0a0a0;
            --color-background: #1a1a1a;
            --color-surface: #2a2a2a;
            --color-card-border: #444;
            --color-shadow: rgba(0, 0, 0, 0.3);
        }

        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--color-background);
            color: var(--color-text);
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 var(--space-20);
        }

        /* Navbar styles (assuming they are in style.css, but adding basic structure here for context) */
        .navbar {
            background-color: var(--color-surface);
            box-shadow: var(--shadow-sm);
            position: fixed;
            width: 100%;
            top: 0;
            left: 0;
            z-index: 1000;
            padding: var(--space-16) 0;
        }

        .nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 var(--space-20);
        }

        .nav-logo .logo-text {
            font-size: var(--font-size-xl);
            font-weight: 700;
            color: var(--color-primary);
        }

        .nav-links {
            display: flex;
            gap: var(--space-24);
        }

        .nav-link {
            color: var(--color-text-secondary);
            text-decoration: none;
            font-weight: 500;
            transition: color var(--duration-normal) var(--ease-standard);
        }

        .nav-link:hover, .nav-link.active {
            color: var(--color-primary);
        }

        .nav-actions {
            display: flex;
            align-items: center;
            gap: var(--space-16);
        }

        .search-form {
            display: flex;
            border: 1px solid var(--color-card-border);
            border-radius: var(--radius-md);
            overflow: hidden;
        }

        .search-input {
            border: none;
            padding: var(--space-8) var(--space-12);
            font-size: var(--font-size-base);
            background-color: var(--color-background);
            color: var(--color-text);
        }

        .search-btn {
            background-color: var(--color-primary);
            color: white;
            border: none;
            padding: var(--space-8) var(--space-12);
            cursor: pointer;
            transition: background-color var(--duration-normal) var(--ease-standard);
        }

        .search-btn:hover {
            background-color: #388E3C; /* Darker green */
        }

        .btn {
            padding: var(--space-8) var(--space-16);
            border-radius: var(--radius-md);
            cursor: pointer;
            font-weight: 500;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: var(--space-4);
            transition: all var(--duration-normal) var(--ease-standard);
        }

        .btn--primary {
            background-color: var(--color-primary);
            color: white;
            border: 1px solid var(--color-primary);
        }

        .btn--primary:hover {
            background-color: #388E3C;
            border-color: #388E3C;
        }

        .btn--secondary {
            background-color: transparent;
            color: var(--color-primary);
            border: 1px solid var(--color-primary);
        }

        .btn--secondary:hover {
            background-color: var(--color-primary);
            color: white;
        }

        .btn--sm {
            padding: var(--space-4) var(--space-8);
            font-size: var(--font-size-sm);
        }

        .btn--login {
            background-color: var(--color-accent);
            color: white;
            border: none;
        }

        .btn--login:hover {
            background-color: #1976D2; /* Darker blue */
        }

        .btn--sos {
            background-color: #f44336; /* Red */
            color: white;
            border: none;
        }

        .btn--sos:hover {
            background-color: #D32F2F; /* Darker red */
        }

        .theme-toggle {
            background: none;
            border: none;
            color: var(--color-text);
            font-size: var(--font-size-xl);
            cursor: pointer;
        }

        .mobile-menu-toggle {
            display: none; /* Hidden by default on desktop */
            flex-direction: column;
            justify-content: space-around;
            width: 30px;
            height: 20px;
            background: transparent;
            border: none;
            cursor: pointer;
            padding: 0;
            z-index: 1001;
        }

        .mobile-menu-toggle span {
            display: block;
            width: 100%;
            height: 2px;
            background: var(--color-text);
            border-radius: 10px;
            transition: all 0.3s linear;
            position: relative;
            transform-origin: 1px;
        }

        /* Specific styles for the guides page */
        main {
            padding-top: 100px; /* Adjust for fixed navbar */
        }

        .section-header {
            text-align: center;
            margin-bottom: var(--space-40);
        }

        .section-title {
            font-size: var(--font-size-3xl);
            color: var(--color-primary);
            margin-bottom: var(--space-16);
        }

        .section-subtitle {
            font-size: var(--font-size-lg);
            color: var(--color-text-secondary);
            max-width: 700px;
            margin: 0 auto;
        }

        .guides-layout {
            display: flex;
            gap: var(--space-32);
        }

        .guides-filters {
            flex: 0 0 280px; /* Fixed width for filters */
            background: var(--color-surface);
            padding: var(--space-24);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-md);
            height: fit-content; /* Make it stick to content height */
            position: sticky;
            top: 120px; /* Position below navbar */
        }

        .guides-filters h4 {
            font-size: var(--font-size-xl);
            color: var(--color-text);
            margin-bottom: var(--space-24);
            border-bottom: 1px solid var(--color-card-border);
            padding-bottom: var(--space-12);
        }

        .form-group {
            margin-bottom: var(--space-20);
        }

        .form-label {
            display: block;
            font-weight: 600;
            margin-bottom: var(--space-8);
            color: var(--color-text);
        }

        .form-control {
            width: 100%;
            padding: var(--space-12);
            border: 1px solid var(--color-card-border);
            border-radius: var(--radius-md);
            background-color: var(--color-background);
            color: var(--color-text);
            font-size: var(--font-size-base);
            appearance: none; /* Remove default arrow for select */
            background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23000000%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.5-12.8z%22%2F%3E%3C%2Fsvg%3E');
            background-repeat: no-repeat;
            background-position: right 0.7em top 50%, 0 0;
            background-size: 0.65em auto, 100%;
            padding-right: 2.5em;
        }

        .checkbox-group {
            display: flex;
            align-items: center;
            gap: var(--space-8);
        }

        .form-check-input {
            width: 1.25rem;
            height: 1.25rem;
            accent-color: var(--color-primary); /* Checkbox color */
        }

        .form-check-label {
            font-weight: 500;
            color: var(--color-text);
        }

        .text-sm {
            font-size: var(--font-size-sm);
        }

        .text-secondary-accent {
            color: var(--color-text-secondary);
        }

        .mt-1 {
            margin-top: var(--space-4);
        }

        .guides-content {
            flex: 1;
        }

        .guides-toolbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-24);
            flex-wrap: wrap;
            gap: var(--space-16);
        }

        .guides-toolbar .sort-group {
            display: flex;
            align-items: center;
            gap: var(--space-8);
        }

        .guides-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: var(--space-24);
        }

        .guide-card {
            background: var(--color-surface);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-md);
            overflow: hidden;
            transition: all var(--duration-normal) var(--ease-standard);
            display: flex;
            flex-direction: column;
            border: 1px solid var(--color-card-border);
        }

        .guide-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }

        .guide-card-header {
            position: relative;
            height: 200px;
            overflow: hidden;
        }

        .guide-card-header img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform var(--duration-normal) var(--ease-standard);
        }

        .guide-card:hover .guide-card-header img {
            transform: scale(1.05);
        }

        .guide-rating {
            position: absolute;
            top: var(--space-12);
            right: var(--space-12);
            background-color: var(--color-primary);
            color: white;
            padding: var(--space-4) var(--space-8);
            border-radius: var(--radius-md);
            font-size: var(--font-size-sm);
            display: flex;
            align-items: center;
            gap: var(--space-4);
        }

        .guide-rating i {
            color: var(--color-secondary); /* Star color */
        }

        .guide-card-body {
            padding: var(--space-20);
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }

        .guide-name {
            font-size: var(--font-size-xl);
            font-weight: 600;
            color: var(--color-text);
            margin-bottom: var(--space-8);
        }

        .guide-location, .guide-languages, .guide-category {
            font-size: var(--font-size-sm);
            color: var(--color-text-secondary);
            margin-bottom: var(--space-4);
        }

        .guide-bio {
            font-size: var(--font-size-base);
            color: var(--color-text-secondary);
            margin-top: var(--space-12);
            margin-bottom: var(--space-16);
            flex-grow: 1;
        }

        .guide-price {
            font-size: var(--font-size-lg);
            font-weight: 700;
            color: var(--color-primary);
            margin-bottom: var(--space-16);
        }

        .guide-actions {
            display: flex;
            gap: var(--space-12);
            margin-top: auto; /* Push actions to bottom */
        }

        /* No guides found message */
        .no-guides-message {
            text-align: center;
            padding: var(--space-40);
            font-size: var(--font-size-xl);
            color: var(--color-text-secondary);
            display: none; /* Hidden by default */
            grid-column: 1 / -1; /* Span across all columns */
        }

        /* Modal for Guide Details */
        .modal {
            display: none; /* Hidden by default */
            position: fixed;
            z-index: 1002; /* Higher than navbar */
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.7);
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background-color: var(--color-surface);
            margin: auto;
            padding: var(--space-32);
            border-radius: var(--radius-lg);
            width: 90%;
            max-width: 900px;
            box-shadow: var(--shadow-lg);
            position: relative;
            display: flex;
            flex-wrap: wrap;
            gap: var(--space-32);
        }

        .modal-close-btn {
            color: var(--color-text-secondary);
            position: absolute;
            top: var(--space-16);
            right: var(--space-16);
            font-size: var(--font-size-2xl);
            font-weight: bold;
            cursor: pointer;
        }

        .modal-close-btn:hover,
        .modal-close-btn:focus {
            color: var(--color-text);
            text-decoration: none;
            cursor: pointer;
        }

        .modal-guide-image {
            flex: 1 1 300px;
            max-height: 400px;
            overflow: hidden;
            border-radius: var(--radius-md);
        }

        .modal-guide-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .modal-guide-details {
            flex: 1 1 450px;
            display: flex;
            flex-direction: column;
        }

        .modal-guide-details h2 {
            font-size: var(--font-size-3xl);
            margin-bottom: var(--space-12);
            color: var(--color-text);
        }

        .modal-guide-details .guide-rating {
            position: static;
            margin-bottom: var(--space-16);
            width: fit-content;
        }

        .modal-guide-details p {
            font-size: var(--font-size-base);
            color: var(--color-text-secondary);
            margin-bottom: var(--space-12);
        }

        .modal-guide-details strong {
            color: var(--color-text);
        }

        .modal-guide-details .guide-price {
            font-size: var(--font-size-2xl);
            margin-top: var(--space-20);
            margin-bottom: var(--space-24);
        }

        .modal-actions {
            display: flex;
            gap: var(--space-16);
            margin-top: var(--space-24);
        }

        /* Footer styles (assuming they are in style.css, but adding basic structure here for context) */
        .footer {
            background-color: var(--color-surface);
            color: var(--color-text-secondary);
            padding: var(--space-48) 0 var(--space-24);
            border-top: 1px solid var(--color-card-border);
            margin-top: var(--space-40);
        }

        .footer-content {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            gap: var(--space-32);
            margin-bottom: var(--space-32);
        }

        .footer-section {
            flex: 1 1 200px;
            min-width: 200px;
        }

        .footer-logo span {
            font-size: var(--font-size-xl);
            font-weight: 700;
            color: var(--color-primary);
            margin-bottom: var(--space-12);
            display: block;
        }

        .footer-section h4 {
            font-size: var(--font-size-lg);
            color: var(--color-text);
            margin-bottom: var(--space-16);
        }

        .footer-section ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .footer-section ul li {
            margin-bottom: var(--space-8);
        }

        .footer-section ul li a {
            color: var(--color-text-secondary);
            text-decoration: none;
            transition: color var(--duration-normal) var(--ease-standard);
        }

        .footer-section ul li a:hover {
            color: var(--color-primary);
        }

        .social-links a {
            color: var(--color-text-secondary);
            font-size: var(--font-size-xl);
            margin-right: var(--space-12);
            transition: color var(--duration-normal) var(--ease-standard);
        }

        .social-links a:hover {
            color: var(--color-primary);
        }

        .contact-item {
            display: flex;
            align-items: center;
            gap: var(--space-8);
            margin-bottom: var(--space-8);
        }

        .contact-item i {
            color: var(--color-primary);
        }

        .footer-bottom {
            text-align: center;
            padding-top: var(--space-24);
            border-top: 1px solid var(--color-card-border);
        }

        /* Responsive Adjustments */
        @media (max-width: 1024px) {
            .nav-links {
                gap: var(--space-16);
            }
            .guides-layout {
                flex-direction: column;
            }
            .guides-filters {
                flex: none;
                width: 100%;
                position: static; /* Remove sticky behavior */
                margin-bottom: var(--space-32);
            }
            .guides-grid {
                grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            }
            .modal-content {
                flex-direction: column;
                max-width: 600px;
            }
            .modal-guide-image {
                max-height: 300px;
            }
        }

        @media (max-width: 768px) {
            .nav-links {
                display: none;
                flex-direction: column;
                position: absolute;
                top: 100%;
                left: 0;
                width: 100%;
                background-color: var(--color-surface);
                box-shadow: var(--shadow-md);
                padding: var(--space-16) 0;
                border-top: 1px solid var(--color-card-border);
            }

            .nav-links.active {
                display: flex;
            }

            .nav-link {
                padding: var(--space-8) var(--space-20);
                text-align: center;
            }

            .nav-actions {
                gap: var(--space-8);
            }

            .search-form {
                display: none; /* Hide search form on smaller screens */
            }

            .mobile-menu-toggle {
                display: flex;
            }

            main {
                padding-top: 80px; /* Adjust for smaller navbar */
            }

            .section-title {
                font-size: var(--font-size-2xl);
            }

            .section-subtitle {
                font-size: var(--font-size-base);
            }

            .guides-toolbar {
                flex-direction: column;
                align-items: flex-start;
            }

            .guides-toolbar .sort-group {
                width: 100%;
                justify-content: space-between;
            }

            .guides-grid {
                grid-template-columns: 1fr; /* Single column on very small screens */
            }

            .footer-content {
                flex-direction: column;
                text-align: center;
            }

            .footer-section {
                min-width: unset;
                width: 100%;
            }

            .social-links {
                margin-top: var(--space-16);
            }

            .contact-item {
                justify-content: center;
            }
        }

        @media (max-width: 480px) {
            .nav-container {
                padding: 0 var(--space-12);
            }
            .nav-logo .logo-text {
                font-size: var(--font-size-lg);
            }
            .btn--login, .btn--sos {
                padding: var(--space-4) var(--space-8);
                font-size: var(--font-size-sm);
            }
            main {
                padding-top: 70px;
            }
            .section-title {
                font-size: var(--font-size-xl);
            }
            .guides-filters {
                padding: var(--space-16);
            }
            .form-group {
                margin-bottom: var(--space-16);
            }
            .form-control {
                padding: var(--space-8);
            }
            .modal-content {
                padding: var(--space-20);
            }
            .modal-guide-details h2 {
                font-size: var(--font-size-2xl);
            }
            .modal-guide-details p {
                font-size: var(--font-size-base);
            }
            .modal-guide-details .guide-price {
                font-size: var(--font-size-xl);
            }
            .modal-actions {
                flex-direction: column;
            }
            .modal-actions .btn {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar" id="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <span class="logo-text">Jharkhand Explorer </span>
            </div>

            <div class="nav-links" id="navLinks">
                <a href="/" class="nav-link">Home</a>
                <a href="heritage.html" class="nav-link">Rich Cultural Heritage</a>
                <a href="guides.html" class="nav-link active">Guides</a>
                <a href="transport.html" class="nav-link">Transportation & Guide</a>
                <a href="contact.html" class="nav-link">Contact</a>
                
                <a href="shop.html" class="nav-link">Shop</a>
            </div>

            <div class="nav-actions">
                <form class="search-form" id="searchForm" role="search">
                    <label for="searchInput" class="sr-only">Search</label>
                    <input type="search" placeholder="Search guides..." class="search-input" id="searchInput" aria-label="Search guides">
                    <button type="submit" class="search-btn" aria-label="Submit search">
                        <i class="fas fa-search"></i>
                    </button>
                </form>

                <button class="theme-toggle" id="themeToggle" aria-label="Toggle dark mode">
                    <i class="fas fa-moon"></i>
                </button>

                <button class="btn btn--login">Login</button>

                <button class="btn btn--sos" id="sosButton" aria-label="Emergency SOS">
                    <i class="fas fa-exclamation-triangle"></i> SOS
                </button>

                <button class="mobile-menu-toggle" id="mobileMenuToggle" aria-label="Toggle mobile menu">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
        </div>
    </nav>

    <main>
        <section class="guides-section" id="guides">
            <div class="container">
                <div class="section-header">
                    <h1 class="section-title">Find Your Perfect Guide</h1>
                    <p class="section-subtitle">Connect with experienced local guides for an unforgettable journey through Jharkhand.</p>
                </div>

                <div class="guides-layout">
                    <aside class="guides-filters" aria-labelledby="filter-heading">
                        <h4 id="filter-heading">Filter Guides</h4>
                        <div class="form-group">
                            <label for="guideLocationFilter" class="form-label">Location</label>
                            <select class="form-control" id="guideLocationFilter" aria-label="Filter by location">
                                <option value="all">All Locations</option>
                                <option value="Ranchi">Ranchi</option>
                                <option value="Latehar">Latehar</option>
                                <option value="Deoghar">Deoghar</option>
                                <option value="Giridih">Giridih</option>
                                <option value="Jamshedpur">Jamshedpur</option>
                                <option value="Dhanbad">Dhanbad</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="guideLanguageFilter" class="form-label">Language</label>
                            <select class="form-control" id="guideLanguageFilter" aria-label="Filter by language">
                                <option value="all">Any Language</option>
                                <option value="English">English</option>
                                <option value="Hindi">Hindi</option>
                                <option value="Santhali">Santhali</option>
                                <option value="Oraon">Oraon</option>
                                <option value="Bengali">Bengali</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="guidePriceFilter" class="form-label">Price Range (per day)</label>
                            <select class="form-control" id="guidePriceFilter" aria-label="Filter by price range">
                                <option value="all">Any Price</option>
                                <option value="0-1000">Below ₹1000</option>
                                <option value="1000-2000">₹1000 - ₹2000</option>
                                <option value="2000-3000">₹2000 - ₹3000</option>
                                <option value="3000+">Above ₹3000</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="guideRatingFilter" class="form-label">Minimum Rating</label>
                            <select class="form-control" id="guideRatingFilter" aria-label="Filter by minimum rating">
                                <option value="0">Any Rating</option>
                                <option value="4.5">4.5 Stars & Up</option>
                                <option value="4.0">4.0 Stars & Up</option>
                                <option value="3.5">3.5 Stars & Up</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="guideTourCategoryFilter" class="form-label">Tour Category</label>
                            <select class="form-control" id="guideTourCategoryFilter" aria-label="Filter by tour category">
                                <option value="all">All Categories</option>
                                <option value="Adventure">Adventure</option>
                                <option value="Culture">Culture</option>
                                <option value="Wildlife">Wildlife</option>
                                <option value="Religious">Religious</option>
                                <option value="Trekking">Trekking</option>
                                <option value="Nature">Nature</option>
                                <option value="Historical">Historical</option>
                            </select>
                        </div>
                        <div class="form-group checkbox-group">
                            <input type="checkbox" id="guideFemaleFriendlyFilter" class="form-check-input" aria-label="Show female guides only">
                            <label for="guideFemaleFriendlyFilter" class="form-check-label">Female Guide Available</label>
                            <p class="text-sm text-secondary-accent mt-1">Ensures safety and comfort for female travelers.</p>
                        </div>
                        <button class="btn btn--primary" id="applyFiltersBtn" style="width: 100%; margin-top: var(--space-16);">Apply Filters</button>
                    </aside>

                    <div class="guides-content">
                        <div class="guides-toolbar">
                            <div class="results-count" id="resultsCount">
                                Showing <span id="currentResults">0</span> of <span id="totalResults">0</span> guides
                            </div>
                            <div class="sort-group">
                                <label for="sortOrder" class="form-label">Sort By:</label>
                                <select class="form-control" id="sortOrder" aria-label="Sort guides by">
                                    <option value="default">Default</option>
                                    <option value="rating-desc">Rating (High to Low)</option>
                                    <option value="price-asc">Price (Low to High)</option>
                                    <option value="price-desc">Price (High to Low)</option>
                                    <option value="name-asc">Name (A-Z)</option>
                                </select>
                            </div>
                        </div>
                        <div class="guides-grid" id="guidesGrid">
                            <!-- Guides will be loaded here by JavaScript -->
                        </div>
                        <div class="no-guides-message" id="noGuidesMessage" aria-live="polite">
                            No guides found matching your criteria. Try adjusting your filters.
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Guide Detail Modal -->
    <div id="guideDetailModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="modalGuideName">
        <div class="modal-content">
            <span class="modal-close-btn" id="modalCloseBtn" aria-label="Close guide details">&times;</span>
            <div class="modal-guide-image">
                <img src="" alt="Guide Profile Picture" id="modalGuideImage">
            </div>
            <div class="modal-guide-details">
                <h2 id="modalGuideName"></h2>
                <div class="guide-rating" id="modalGuideRating">
                    <i class="fas fa-star"></i> <span></span>
                </div>
                <p><strong>Location:</strong> <span id="modalGuideLocation"></span></p>
                <p><strong>Languages:</strong> <span id="modalGuideLanguages"></span></p>
                <p><strong>Specialties:</strong> <span id="modalGuideCategories"></span></p>
                <p id="modalGuideBio"></p>
                <div class="guide-price" id="modalGuidePrice"></div>
                <div class="modal-actions">
                    <button class="btn btn--primary" id="modalBookNowBtn">Book Now</button>
                    <button class="btn btn--secondary" id="modalContactBtn">Contact Guide</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <div class="footer-logo">
                        <span>Jharkhand Explorer</span>
                    </div>
                    <p>Discover the incredible beauty of Jharkhand with our AI-powered travel platform.</p>
                    <div class="social-links">
                        <a href="#" target="_blank" aria-label="Facebook"><i class="fab fa-facebook"></i></a>
                        <a href="#" target="_blank" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                        <a href="#" target="_blank" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                        <a href="#" target="_blank" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>

                <div class="footer-section">
                    <h4>Quick Links</h4>
                    <ul>
                        <li><a href="/">Home</a></li>
                        <li><a href="/heritage/">Rich Cultural Heritage</a></li>
                        <li><a href="/guides/">Guides</a></li>
                        <li><a href="/transport/">Transportation & Guide</a></li>
                        <li><a href="/contact/">Contact</a></li>
                        <li><a href="/shop.html">Shop</a></li>
                    </ul>
                </div>

                <div class="footer-section">
                    <h4>Services</h4>
                    <ul>
                        <li><a href="/#ai-planner">AI Trip Planner</a></li>
                        <li><a href="/#accommodation">Accommodation</a></li>
                        <li><a href="/guides/">Local Guides</a></li>
                        <li><a href="/transport/">Transportation</a></li>
                    </ul>
                </div>

                <div class="footer-section">
                    <h4>Contact Info</h4>
                    <div class="contact-info">
                        <div class="contact-item">
                            <i class="fas fa-phone"></i>
                            <span>+91 12345 67890</span>
                        </div>
                        <div class="contact-item">
                            <i class="fas fa-envelope"></i>
                            <span>info@jharkhandexplorer.com</span>
                        </div>
                        <div class="contact-item">
                            <i class="fas fa-map-marker-alt"></i>
                            <span>Ranchi, Jharkhand, India</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="footer-bottom">
                <div class="footer-text">
                    <p>&copy; 2025 Jharkhand Explorer. All rights reserved.</p>
                </div>
            </div>
        </div>
    </footer>

    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vanilla-tilt@1.7.2/dist/vanilla-tilt.min.js"></script>
    <script src="/app.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- Sample Guide Data ---
            const allGuides = [
                {
                    id: 1,
                    name: "Priya Sharma",
                    location: "Ranchi",
                    languages: ["English", "Hindi", "Santhali"],
                    categories: ["Culture", "Nature", "Historical"],
                    rating: 4.8,
                    pricePerDay: 2500,
                    image: "https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80",
                    bio: "A passionate local historian with deep knowledge of Jharkhand's tribal culture and ancient sites. Priya loves sharing stories and hidden gems of Ranchi and surrounding areas. Specializes in personalized cultural tours.",
                    isFemale: true
                },
                {
                    id: 2,
                    name: "Amit Kumar",
                    location: "Latehar",
                    languages: ["Hindi", "English", "Oraon"],
                    categories: ["Adventure", "Wildlife", "Trekking"],
                    rating: 4.5,
                    pricePerDay: 2800,
                    image: "https://images.unsplash.com/photo-1500648767791-00dcc994a43e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80",
                    bio: "An experienced adventure guide, Amit knows the dense forests and waterfalls of Latehar like the back of his hand. Perfect for wildlife enthusiasts and trekkers looking for an adrenaline rush. Certified in first aid.",
                    isFemale: false
                },
                {
                    id: 3,
                    name: "Sunita Devi",
                    location: "Deoghar",
                    languages: ["Hindi", "Bengali"],
                    categories: ["Religious", "Culture"],
                    rating: 4.9,
                    pricePerDay: 2000,
                    image: "https://images.unsplash.com/photo-1580489944761-15a19d654956?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80",
                    bio: "Sunita is a spiritual guide specializing in the sacred sites of Deoghar, including the Baidyanath Dham temple. She provides insightful tours into the religious significance and local traditions. Highly recommended for pilgrims.",
                    isFemale: true
                },
                {
                    id: 4,
                    name: "Rajesh Singh",
                    location: "Giridih",
                    languages: ["Hindi", "English"],
                    categories: ["Nature", "Trekking"],
                    rating: 4.2,
                    pricePerDay: 1800,
                    image: "https://images.unsplash.com/photo-1507003211169-e695c6edd65d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80",
                    bio: "Rajesh is a nature lover and an expert on the flora and fauna of Giridih. He leads serene treks to Usri Falls and Parasnath Hill, offering a peaceful escape into nature. Great for bird watching.",
                    isFemale: false
                },
                {
                    id: 5,
                    name: "Deepa Kumari",
                    location: "Ranchi",
                    languages: ["English", "Hindi"],
                    categories: ["Culture", "Adventure"],
                    rating: 4.7,
                    pricePerDay: 2700,
                    image: "https://images.unsplash.com/photo-1544005313-94ddf0286df2?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80",
                    bio: "Deepa offers dynamic tours combining Ranchi's urban attractions with nearby adventure spots. She's energetic, knowledgeable, and ensures a fun-filled experience for all her guests. Excellent for families and young travelers.",
                    isFemale: true
                },
                {
                    id: 6,
                    name: "Sanjay Munda",
                    location: "Jamshedpur",
                    languages: ["Hindi", "Santhali", "English"],
                    categories: ["Historical", "Industrial", "Culture"],
                    rating: 4.6,
                    pricePerDay: 2600,
                    image: "https://images.unsplash.com/photo-1521572177456-f020050b7e12?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80",
                    bio: "Sanjay is an expert on Jamshedpur's unique blend of industrial heritage and tribal culture. He provides insightful tours of the city's landmarks, parks, and local markets. Fluent in multiple local dialects.",
                    isFemale: false
                },
                {
                    id: 7,
                    name: "Anjali Prasad",
                    location: "Dhanbad",
                    languages: ["Hindi", "English"],
                    categories: ["Historical", "Industrial"],
                    rating: 4.3,
                    pricePerDay: 2200,
                    image: "https://images.unsplash.com/photo-1593104547489-5cfb3839e035?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80",
                    bio: "Anjali specializes in the coal capital of India, Dhanbad. She offers tours exploring the region's mining history, industrial development, and local life. Provides a unique perspective on Jharkhand's economic backbone.",
                    isFemale: true
                },
                {
                    id: 8,
                    name: "Vikram Oraon",
                    location: "Latehar",
                    languages: ["Oraon", "Hindi"],
                    categories: ["Wildlife", "Nature"],
                    rating: 4.7,
                    pricePerDay: 2900,
                    image: "https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80",
                    bio: "Vikram is a tribal guide from Latehar, deeply connected to the forest and its inhabitants. He offers authentic wildlife safaris and nature walks, sharing traditional knowledge of the ecosystem. Highly knowledgeable about local flora and fauna.",
                    isFemale: false
                }
            ];

            let displayedGuides = [...allGuides]; // Guides currently being displayed

            // --- DOM Elements ---
            const guidesGrid = document.getElementById('guidesGrid');
            const noGuidesMessage = document.getElementById('noGuidesMessage');
            const resultsCountSpan = document.getElementById('currentResults');
            const totalResultsSpan = document.getElementById('totalResults');

            // Filter/Sort Elements
            const guideLocationFilter = document.getElementById('guideLocationFilter');
            const guideLanguageFilter = document.getElementById('guideLanguageFilter');
            const guidePriceFilter = document.getElementById('guidePriceFilter');
            const guideRatingFilter = document.getElementById('guideRatingFilter');
            const guideTourCategoryFilter = document.getElementById('guideTourCategoryFilter');
            const guideFemaleFriendlyFilter = document.getElementById('guideFemaleFriendlyFilter');
            const applyFiltersBtn = document.getElementById('applyFiltersBtn');
            const sortOrderSelect = document.getElementById('sortOrder');
            const searchInput = document.getElementById('searchInput');
            const searchForm = document.getElementById('searchForm');

            // Modal Elements
            const guideDetailModal = document.getElementById('guideDetailModal');
            const modalCloseBtn = document.getElementById('modalCloseBtn');
            const modalGuideImage = document.getElementById('modalGuideImage');
            const modalGuideName = document.getElementById('modalGuideName');
            const modalGuideRating = document.getElementById('modalGuideRating').querySelector('span');
            const modalGuideLocation = document.getElementById('modalGuideLocation');
            const modalGuideLanguages = document.getElementById('modalGuideLanguages');
            const modalGuideCategories = document.getElementById('modalGuideCategories');
            const modalGuideBio = document.getElementById('modalGuideBio');
            const modalGuidePrice = document.getElementById('modalGuidePrice');
            const modalBookNowBtn = document.getElementById('modalBookNowBtn');
            const modalContactBtn = document.getElementById('modalContactBtn');

            // --- Functions ---

            /**
             * Creates an HTML guide card element.
             * @param {object} guide - The guide data.
             * @returns {HTMLElement} The guide card div.
             */
            function createGuideCard(guide) {
                const card = document.createElement('div');
                card.className = 'guide-card';
                card.setAttribute('data-guide-id', guide.id);
                card.innerHTML = `
                    <div class="guide-card-header">
                        <img src="${guide.image}" alt="${guide.name}'s profile picture" loading="lazy">
                        <div class="guide-rating" aria-label="Rating: ${guide.rating} out of 5 stars">
                            <i class="fas fa-star"></i> ${guide.rating.toFixed(1)}
                        </div>
                    </div>
                    <div class="guide-card-body">
                        <h3 class="guide-name">${guide.name}</h3>
                        <p class="guide-location"><i class="fas fa-map-marker-alt"></i> ${guide.location}</p>
                        <p class="guide-languages"><i class="fas fa-language"></i> ${guide.languages.join(', ')}</p>
                        <p class="guide-category"><i class="fas fa-tag"></i> ${guide.categories.join(', ')}</p>
                        <p class="guide-bio">${guide.bio.substring(0, 100)}...</p>
                        <div class="guide-price">₹${guide.pricePerDay.toLocaleString()}/day</div>
                        <div class="guide-actions">
                            <button class="btn btn--primary btn--sm view-profile-btn" data-guide-id="${guide.id}">View Profile</button>
                            <button class="btn btn--secondary btn--sm book-now-btn" data-guide-id="${guide.id}" data-guide-name="${guide.name}">Book Now</button>
                        </div>
                    </div>
                `;
                return card;
            }

            /**
             * Renders guides to the grid.
             * @param {Array} guidesToRender - The array of guides to display.
             */
            function renderGuides(guidesToRender) {
                guidesGrid.innerHTML = ''; // Clear existing guides
                if (guidesToRender.length === 0) {
                    noGuidesMessage.style.display = 'block';
                } else {
                    noGuidesMessage.style.display = 'none';
                    guidesToRender.forEach(guide => {
                        guidesGrid.appendChild(createGuideCard(guide));
                    });
                    // Re-initialize VanillaTilt for newly rendered cards
                    VanillaTilt.init(document.querySelectorAll(".guide-card"), {
                        max: 5,
                        speed: 400,
                        glare: true,
                        "max-glare": 0.2
                    });
                }
                resultsCountSpan.textContent = guidesToRender.length;
                totalResultsSpan.textContent = allGuides.length;
            }

            /**
             * Applies filters and sorting to the guides.
             */
            function applyFiltersAndSort() {
                let filtered = [...allGuides];

                // 1. Apply Location Filter
                const selectedLocation = guideLocationFilter.value;
                if (selectedLocation !== 'all') {
                    filtered = filtered.filter(guide => guide.location === selectedLocation);
                }

                // 2. Apply Language Filter
                const selectedLanguage = guideLanguageFilter.value;
                if (selectedLanguage !== 'all') {
                    filtered = filtered.filter(guide => guide.languages.includes(selectedLanguage));
                }

                // 3. Apply Price Range Filter
                const selectedPriceRange = guidePriceFilter.value;
                if (selectedPriceRange !== 'all') {
                    const [min, max] = selectedPriceRange.split('-').map(Number);
                    if (selectedPriceRange.endsWith('+')) { // "3000+"
                        filtered = filtered.filter(guide => guide.pricePerDay >= min);
                    } else { // "1000-2000"
                        filtered = filtered.filter(guide => guide.pricePerDay >= min && guide.pricePerDay <= max);
                    }
                }

                // 4. Apply Minimum Rating Filter
                const minRating = parseFloat(guideRatingFilter.value);
                if (minRating > 0) {
                    filtered = filtered.filter(guide => guide.rating >= minRating);
                }

                // 5. Apply Tour Category Filter
                const selectedCategory = guideTourCategoryFilter.value;
                if (selectedCategory !== 'all') {
                    filtered = filtered.filter(guide => guide.categories.includes(selectedCategory));
                }

                // 6. Apply Female Guide Filter
                if (guideFemaleFriendlyFilter.checked) {
                    filtered = filtered.filter(guide => guide.isFemale === true);
                }

                // 7. Apply Search Query Filter
                const searchQuery = searchInput.value.toLowerCase().trim();
                if (searchQuery) {
                    filtered = filtered.filter(guide =>
                        guide.name.toLowerCase().includes(searchQuery) ||
                        guide.location.toLowerCase().includes(searchQuery) ||
                        guide.languages.some(lang => lang.toLowerCase().includes(searchQuery)) ||
                        guide.categories.some(cat => cat.toLowerCase().includes(searchQuery)) ||
                        guide.bio.toLowerCase().includes(searchQuery)
                    );
                }

                // 8. Apply Sorting
                const sortOption = sortOrderSelect.value;
                if (sortOption === 'rating-desc') {
                    filtered.sort((a, b) => b.rating - a.rating);
                } else if (sortOption === 'price-asc') {
                    filtered.sort((a, b) => a.pricePerDay - b.pricePerDay);
                } else if (sortOption === 'price-desc') {
                    filtered.sort((a, b) => b.pricePerDay - a.pricePerDay);
                } else if (sortOption === 'name-asc') {
                    filtered.sort((a, b) => a.name.localeCompare(b.name));
                }

                displayedGuides = filtered;
                renderGuides(displayedGuides);
            }

            /**
             * Opens the guide detail modal with guide information.
             * @param {object} guide - The guide data to display.
             */
            function openGuideDetailModal(guide) {
                modalGuideImage.src = guide.image;
                modalGuideImage.alt = `${guide.name}'s profile picture`;
                modalGuideName.textContent = guide.name;
                modalGuideRating.textContent = guide.rating.toFixed(1);
                modalGuideLocation.textContent = guide.location;
                modalGuideLanguages.textContent = guide.languages.join(', ');
                modalGuideCategories.textContent = guide.categories.join(', ');
                modalGuideBio.textContent = guide.bio;
                modalGuidePrice.textContent = `₹${guide.pricePerDay.toLocaleString()}/day`;

                // Set data attributes for modal buttons
                modalBookNowBtn.setAttribute('data-guide-id', guide.id);
                modalBookNowBtn.setAttribute('data-guide-name', guide.name);
                modalContactBtn.setAttribute('data-guide-id', guide.id);
                modalContactBtn.setAttribute('data-guide-name', guide.name);

                guideDetailModal.style.display = 'flex';
                document.body.style.overflow = 'hidden'; // Prevent scrolling background
            }

            /**
             * Closes the guide detail modal.
             */
            function closeGuideDetailModal() {
                guideDetailModal.style.display = 'none';
                document.body.style.overflow = ''; // Restore scrolling
            }

            // --- Event Listeners ---

            // Initial render of all guides
            renderGuides(allGuides);

            // Filter and Sort Event Listeners
            applyFiltersBtn.addEventListener('click', applyFiltersAndSort);
            guideLocationFilter.addEventListener('change', applyFiltersAndSort);
            guideLanguageFilter.addEventListener('change', applyFiltersAndSort);
            guidePriceFilter.addEventListener('change', applyFiltersAndSort);
            guideRatingFilter.addEventListener('change', applyFiltersAndSort);
            guideTourCategoryFilter.addEventListener('change', applyFiltersAndSort);
            guideFemaleFriendlyFilter.addEventListener('change', applyFiltersAndSort);
            sortOrderSelect.addEventListener('change', applyFiltersAndSort);

            // Search functionality
            searchForm.addEventListener('submit', (e) => {
                e.preventDefault();
                applyFiltersAndSort();
            });
            // Optional: Live search as user types (can be performance intensive for large datasets)
            // searchInput.addEventListener('input', applyFiltersAndSort);


            // Guide Grid Event Delegation for View Profile and Book Now
            guidesGrid.addEventListener('click', (e) => {
                const target = e.target;

                if (target.classList.contains('view-profile-btn')) {
                    const guideId = parseInt(target.dataset.guideId);
                    const guide = allGuides.find(g => g.id === guideId);
                    if (guide) {
                        openGuideDetailModal(guide);
                    }
                } else if (target.classList.contains('book-now-btn')) {
                    const guideName = target.dataset.guideName;
                    alert(`Booking request initiated for guide: ${guideName}. We will contact you shortly!`);
                    // In a real application, this would lead to a booking form.
                }
            });

            // Modal Event Listeners
            modalCloseBtn.addEventListener('click', closeGuideDetailModal);
            guideDetailModal.addEventListener('click', (e) => {
                if (e.target === guideDetailModal) { // Close if clicked outside modal content
                    closeGuideDetailModal();
                }
            });
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && guideDetailModal.style.display === 'flex') {
                    closeGuideDetailModal();
                }
            });

            // Modal Book Now/Contact Guide
            modalBookNowBtn.addEventListener('click', (e) => {
                const guideName = e.target.dataset.guideName;
                alert(`Booking request initiated for guide: ${guideName}. We will contact you shortly!`);
                closeGuideDetailModal();
            });

            modalContactBtn.addEventListener('click', (e) => {
                const guideName = e.target.dataset.guideName;
                alert(`Opening contact form for guide: ${guideName}. (Demo: Imagine a contact form or email client opening)`);
                closeGuideDetailModal();
            });


            // --- General Site Functionality (from original app.js/inline script) ---

            // Theme Toggle
            const themeToggle = document.getElementById('themeToggle');
            if (themeToggle) {
                themeToggle.addEventListener('click', (e) => {
                    e.preventDefault();
                    const currentTheme = document.documentElement.getAttribute('data-theme');
                    const newTheme = currentTheme === 'light' ? 'dark' : 'light';
                    document.documentElement.setAttribute('data-theme', newTheme);
                    localStorage.setItem('theme', newTheme);
                    const icon = themeToggle.querySelector('i');
                    if (icon) {
                        icon.className = newTheme === 'dark' ? 'fas fa-sun' : 'fas fa-moon';
                    }
                });
                // Set initial icon based on current theme
                const currentTheme = localStorage.getItem('theme') || (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
                document.documentElement.setAttribute('data-theme', currentTheme); // Ensure theme is set on load
                const icon = themeToggle.querySelector('i');
                if (icon) {
                    icon.className = currentTheme === 'dark' ? 'fas fa-sun' : 'fas fa-moon';
                }
            }

            // Mobile Menu Toggle
            const mobileMenuToggle = document.getElementById('mobileMenuToggle');
            const navLinks = document.getElementById('navLinks');
            if (mobileMenuToggle && navLinks) {
                mobileMenuToggle.addEventListener('click', (e) => {
                    e.preventDefault();
                    navLinks.classList.toggle('active');
                    mobileMenuToggle.classList.toggle('active');
                });
                // Close mobile menu when a link is clicked
                navLinks.querySelectorAll('.nav-link').forEach(link => {
                    link.addEventListener('click', () => {
                        navLinks.classList.remove('active');
                        mobileMenuToggle.classList.remove('active');
                    });
                });
            }

            // SOS Button functionality
            const sosButton = document.getElementById('sosButton');
            if (sosButton) {
                sosButton.addEventListener('click', () => {
                    alert('Emergency! Please contact local authorities or your travel guide. Emergency contact: +91 98765 43210');
                });
            }
        });
    </script>
</body>
</html>